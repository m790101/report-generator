@if(data().length > 0) {
<div class="px-2 font-bold text-2xl">
  <p>檢查報告</p>
  <p>{{ data()[0].name }}</p>
</div>

<table>
  <thead class="text-xl">
    <tr>
      <th class="">檢驗項目</th>
      <th *ngFor="let item of data()">{{ item.date }}</th>
      <th class="">參考值說明</th>
      <th class="">單位</th>
    </tr>
  </thead>
  <tbody class=" text-lg">
    <ng-container *ngFor="let key of getKeys()">
      <tr *ngIf="hasValue(key)">
        <td>{{ titleMapping[key]??'' }}</td>
        <ng-container *ngFor="let item of data()">
          <td  [style.color]="checkResult(item[key]?.resultNote)">
            {{ item[key]?.value }}
          </td>
        </ng-container>
        <td>{{ criteria[key] }}</td>
        <td>{{ units[key] }}</td>
      </tr>
    </ng-container>
  </tbody>
</table>

}


<!--
<div class="flex">
  <div>
    <ul>
    @for (key of getKeys(); track $index) {
      <li>
        {{ titleMapping[key]??'' }}
      </li>
    }
  </ul>
  </div>
  @for (item of data(); track $index){

  }
  <div>
    <ul>
    @for (key of getKeys(); track $index) {
      <li>
         {{ data()[0][key]?.value?? '' }}
        {{key}}
      </li>
    }
  </ul>
  </div>
</div>
-->
