@if(data().length > 0) {
<div class="px-2 mb-9">
  <p class="font-bold text-2xl">檢查報告</p>
  <p class="text-xl">{{ data()[0].name }}</p>
</div>

<table>
  <thead class="text-xl">
    <tr>
      <th class="">檢驗項目</th>
      <th *ngFor="let item of data()">{{ getFormatDate(item.date) }}</th>
      <th class="text-end">參考值說明</th>
      <th class="text-end">單位</th>
    </tr>
  </thead>
  <tbody class=" text-lg">
    <ng-container *ngFor="let key of getKeys()">
      <tr *ngIf="hasValue(key)">
        <td>{{ titleMapping[key]??'' }}</td>
        <ng-container *ngFor="let item of data()">
          <td  [style.color]="checkResult(item[key]?.resultNote)" class="text-center">
            {{ item[key]?.value }}
          </td>
        </ng-container>
        <td class="text-end">{{ criteria[key] }}</td>
        <td class="text-end">{{ units[key] }}</td>
      </tr>
    </ng-container>
  </tbody>
</table>

}


<!--
<div class="flex">
  <div>
    <ul>
    @for (key of getKeys(); track $index) {
      <li>
        {{ titleMapping[key]??'' }}
      </li>
    }
  </ul>
  </div>
  @for (item of data(); track $index){

  }
  <div>
    <ul>
    @for (key of getKeys(); track $index) {
      <li>
         {{ data()[0][key]?.value?? '' }}
        {{key}}
      </li>
    }
  </ul>
  </div>
</div>
-->
